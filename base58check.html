<!DOCTYPE HTML>
<html>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<body>
<script src="wordlist_english.js"></script>
<script src="crypto.js"></script>
<script>
console.log(wordListArray[0])

// Set of base58 chars
const base58 = [
      1, 2, 3, 4, 5, 6, 7, 8, 9, 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'J', 'K', 'L', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'
];
console.log('1: ' + base58[0]);
console.log('check A: ' + base58[9]);
// set of base58 chars looks to be working. moving on...

// can't read len's perl code, moving to python implementation I found:
// https://rosettacode.org/wiki/Base58Check_encoding#Python
//result = '';
//num = 60;
//r = num % 58;
//console.log('r, should be 2: ' + r);

//check this number is correct:
console.log('0x61: ' + Number('0x61'));
console.log('0x61: ' + convert_to_base58(Number('0x61')));
console.log('0x10c8511e ' + convert_to_base58(Number('0x10c8511e')));
function convert_to_base58(num){
	result = '';
	var r = ''
	var sb = '';
	while(num > 0){
		r = num % 58;
		sb = sb + base58[r];
		num = Math.floor(num/58);
		console.log('num: ' + num);
	}
	return sb.split('').reverse().join('');;
}
//Looks like the converter works!~


// Testing with known inputs:
// mnemonic phrase: 'neglect time recycle convince produce tiny blue girl senior sense damage uniform'
// 512 bit seed: 969dd291ec4af4df61193c2b5ff3f3f5e1c46fe2564f6e286d5c45020e1b1783f10b11bbb8d0e9422fb0adb90ffa16f0b6d01aa765ec3734a0cc4ce3c5291861
// xprv from ian computer: xprv9s21ZrQH143K3mc3aZGAZfkkouBXKVPG3EyDTvFRhsjmVCwqZcShTiVXqXV4uuDLKbMcFa7nhgnWyJ8dSpymvBxPigtVdQf6hh9w2QQr8b8
seed512 = '969dd291ec4af4df61193c2b5ff3f3f5e1c46fe2564f6e286d5c45020e1b1783f10b11bbb8d0e9422fb0adb90ffa16f0b6d01aa765ec3734a0cc4ce3c5291861'


// First take the left 256 bits (64 byte halves in this case)
left256_hex = seed512.substring(0,64);
console.log('left 256 bits in hex: ' + left256_hex);
console.log('length of left256 in byte halves: ' + left256_hex.length);

payload = left256_hex;
version = '0488ADE4';
console.log('computed xprv key without prefix: ' + base58check(payload, version));
// From https://en.bitcoin.it/wiki/BIP_0032
// base58check function. Version bytes according to BIP32 for:
// xprv:	0x0488ADE4
// xpub:	0x0488B21E
// Takes hex string as input for now.
function base58check(payload_data, versionByte){
	

}


</script>
</body>
</html>












