<!DOCTYPE HTML>
<html>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<body>
<script src="annotated.js"></script>
<script>

byte_array = new Array(255, 254, 253,  100, 64, 1, 0, 17);
console.log("byte array: " + byte_array);

words = byteToWord( byte_array );
console.log("words: " + words);
bytes = wordToByte( words );
console.log("bytes: " + bytes);



function wordToByte( words ){
	bytes = new Array();
	let bite;
	let upper;
console.log("words length: " + words.length);
	for(let i = 1; i < words.length; i+=2){
console.log("bite test: " + bite);
		// add lower bite.
		bite = words[i];
		// add upper 
		upper = words[i-1];
		if( upper >> 3 ){
			upper = upper - 8;
			bite = bite + 128;
		}
		if( upper >> 2 ){
			upper = upper - 4;
			bite = bite + 64;
		}
		if( upper >> 1 ){
			upper = upper - 2;
			bite = bite + 32;
		}
		if( upper ){
			bite = bite + 16;
		}
console.log("bite test: " + bite);
		bytes.push( bite );
	}
	return bytes;
}


function byteToWord( bytes ){
	words = new Array();
	let upper;
	let lower;
	let bite;

console.log("bytes: " + bytes);
	for(i in bytes) {
		bite = bytes[i];
//console.log("bite: " + bite);
		upper = 0;
		lower = 0;
		if( bite >> 7 ){ 
			upper += 8;
			bite = bite - 128;
//console.log("bite 128: " + bite);
		}
		if( bite >> 6 ){ 
			upper += 4;
			bite = bite - 64;
//console.log("bite 64: " + bite);
		}
		if( bite >> 5 ){ 
			upper += 2;
			bite = bite - 32;
//console.log("bite 32: " + bite);
		}
		if( bite >> 4 ){ 
			upper += 1;
			bite = bite - 16;
//console.log("bite 16: " + bite);
		}
		words.push(upper);
		words.push(bite);
	}

	//console.log("word array:" + words);
	return words;
}

// convert byte array to word array
// convert to base 58 (word)

function bin2String(array) {
  var result = "";
  for (var i = 0; i < array.length; i++) {
    result += String.fromCharCode(parseInt(array[i], 2));
  }
  return result;
}

function bToW ( byte_array ){
	words = new Array();

}

</script>

</body>

</html>
